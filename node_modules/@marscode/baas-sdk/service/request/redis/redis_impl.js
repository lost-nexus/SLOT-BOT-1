"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RedisRequest = void 0;
const option_1 = require("../../../adapter/http/option");
const path_1 = require("../../../adapter/http/path");
const ctx_1 = require("../../../common/utils/ctx");
const request_1 = require("../../../adapter/http/request");
class RedisRequest {
    async executeCmd(req) {
        let timeout = undefined;
        if (req.options && req.options[req.cmd]) {
            timeout = req.options[req.cmd];
        }
        let options = (0, option_1.getOptions)(path_1.baasApiKeys.executeCmd, timeout);
        let path = options._reqPath.replace(":ResourceID", (0, ctx_1.getCredentialFromCtx)().resourceID).replace(":Cmd", req.cmd);
        options.json = {
            Args: req.args,
        };
        return await (0, request_1.doJsonReq)(path, options);
    }
}
exports.RedisRequest = RedisRequest;
//# sourceMappingURL=redis_impl.js.map